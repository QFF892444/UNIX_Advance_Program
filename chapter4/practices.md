# 习题

## 第四章

4.1 会输出符号链接所指向文件的文件类型

4.2 如果创建的是目录，则该目录的用户、组和其他均无法访问该目录，在目录下创建或删除文件，无法搜索目录下的文件；如果创建的是文件，则文件的用户、组和其他均无法读、写和执行该文件。

4.3 4.4 略

4.5 目录长度不会为0，因为它总是包含 . 和 .. 项；符号链接的长度也不会为0，因为路径名至少包含一个字符。

4.6 见源程序 cp_use.c

4.7 cat命令程序中调用了程序umask,而不是使用shell的umask来创建文件。

4.8 du命令查看的磁盘占用空间的大小，创建的新文件并没有写入内容，所以占用磁盘空间大小为0；df命令查看的是磁盘最大可用空间，即以使用数据块为单位进行统计，尽管新文件没有写入内容，但是占据了一定数量的数据块。

4.9 unlink 会修改 i 节点的引用次数，所以会修改文件状态更改时间。

4.10 用 opendir 打开一个目录后，递归函数调用dopath。假设opendir使用一个文件描述符，并且只有在处理完目录后才调用closedir释放描述符，这就意味着每次降一级就要使用另一描述符。所以进程最大描述符数就限制了我们可以遍历的文件系统树的深度。

4.11 见源程序recursive_travel_filedir_2.c

4.12 

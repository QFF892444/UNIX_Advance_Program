# 习题

## 第十二章

12.1 输出到文件中的内容是:
        thread started...
        parent about to fork...
        preparing locks...
        parent unlocking locks...
        parent returned from fork
        thread started...
        parent about to fork...
        preparing locks...
        child unlocking locks...
        child returned from fork
    解释结果: 标准 I/O 例程是线程安全的.调用fork时,每个进程获得标准I/O数据结构的一份副本.程序运行时把标准输出定向到终端时,输出时行缓冲的,所以每打印一行时,标准I/O库就把行写到终端上.但如果把标准输出重定向到文件的话,则标准输出就是全缓冲的.当缓冲区满或者进程关闭流时,输出才会写到文件.此例中,执行fork时,缓冲区中包含了还未写的几个打印行,所以当父进程和子进程进行最后的冲洗缓冲区中的副本时,最初的复制内容就会写入文件.

12.2 见源程序 putenv.h 和 putenv_r.h

12.3 
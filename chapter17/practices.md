# 习题

## 第17章

17.1 常规管道提供了一个字节流接口，为了确定消息边界，我们必须给每个消息增加一个消息头部来指示长度。但这个仍然涉及两个额外的复制操作，一个是写入至管道，另一个是从管道读出。更加有效的方法是仅将管道用于告知主线程有一个消息可用。我们用单个字节用作通知。采用这种方法，我们需要移动mymesg结构到threadinfo结构，并使用一个互斥量(mutex)和一个条件变量(condition variable)来防止辅助线程在主线程完成之前重新使用mymesg结构。

​		详细见源代码 XSI_pipe.c